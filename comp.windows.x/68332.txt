program wm protocol open look toolkit  hi studi book unix desktop guid open look exampl winprop c demonstr program wm protocol properti chapter run show static text messag notic pop problem thank advanc help iop  file winprop c  show set properti window   includ x xatom h definit xa atom includ x intrins h includ x stringdef h includ xol openlook h includ xol statictext h includ xol oblongbutt h includ xol notic h file defin atom ol prefix id top level noticeshel widget static widget top level notic shell static widget make notic static char messag client use properti commun window manag exampl illustr open look applic request notif window manag certain event occur commun form clientmessag event applic process event handler atom use inter client commun atom atom wm protocol atom wm delet window atom wm save static void handl wm messag static void save exit static void save static void pop notic static void exit string hold comand line use respond wm save protocol messag  char save cmdline  void main argc argv int argc char argv  widget w int save command line use respond wm save protocol messag  sprintf save cmdline argv argc argc  strcat save cmdline argv strcat save cmdline  creat initi top level widget top level oliniti argv ol main null argc argv creat statictext widget w xtvacreatemanagedwidget stext statictextwidgetclass top level xtnstring messag xtnwidth null creat noticeshel widget later use make notic top level intern atom atom wm protocol xinternatom xtdisplay w wm protocol fals atom wm delet window xinternatom xtdisplay w wm delet window fals atom wm save xinternatom xtdisplay w wm save fals add event handler process clientmessag event sent window manag  xtaddeventhandl top level noeventmask true handl wm messag null realiz widget start process event xtrealizewidget top level append properti wm delet window wm save definit wm protocol properti step requir window id top level widget window id valid widget realiz  xchangeproperti xtdisplay top level xtwindow top level atom wm protocol xa atom propmodeappend atom wm delet window xchangeproperti xtdisplay top level xtwindow top level atom wm protocol xa atom propmodeappend atom wm save xtmainloop   static void handl wm messag w client data p event widget w xtpointer client data xevent p event  p event type clientmessag p event xclient messag type atom wm protocol  p event xclient data l atom wm delet window  save exit  p event xclient data l atom wm save  save     static void save exit  display notic give user chanc respond pop notic top level notic shell   static void save  set wm command properti save command line xchangeproperti xtdisplay top level xtwindow top level xa wm command xa string propmodereplac save cmdline strlen save cmdline   static widget make notic parent widget parent  widget w n text n control n exit n cancel creat button provid callback pop notic w xtvacreatemanagedwidget quitbutton oblongbuttonwidgetclass parent xtnlabel exit null xtaddcallback w xtnselect pop notic null creat noticeshel widget note use xtvacreatepopupshel instead usual xtvacreatemanagedwidget  notic shell xtvacreatepopupshel quitnotic noticeshellwidgetclass w null get id text control area widget noticeshel  xtvagetvalu notic shell xtntextarea n text xtncontrolarea n control null place messag text area noticeshel xtvasetvalu n text xtnstring plea confirm exit program null add button control area noticeshel button appropri callback  n exit xtvacreatemanagedwidget noticeexit oblongbuttonwidgetclass n control xtnlabel exit null xtaddcallback n exit xtnselect exit null n cancel xtvacreatemanagedwidget noticecancel oblongbuttonwidgetclass n control xtnlabel cancel xtndefault true null return w   static void pop notic w eman w notic widget w eman w notic  xtvasetvalu w notic xtnemanatewidget w eman null pop noticeshel widget noticeshel widget make sure aplic wait user select one button noticeshel control area  xtpopup w notic xtgrabexclus   static void exit w call data client data widget w xtpointer call data client data  xclosedisplay xtdisplay w exit  