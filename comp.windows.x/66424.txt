comp window x frequent ask question faq  archiv name x faq part last modifi   write widget use float resourc valu  float resourc portabl size valu may larger size xtpointer tri use pointer float instead xaw scrollbar float resourc handl way   memori leak xr xtdestroywidget  ye unoffici fix xr destroy c  destroy c thu jul lib xt destroy c thu jul    xconsortium destroy c v swick exp plu unoffici patch revis   copyright digit equip corpor maynard massachusett     int destroyrec dr app destroy list app destroy count dr dispatch level dispatch level widget w dr widget app destroy count bcopi char dr char dr app destroy count sizeof destroyrec  xtphasedestroy w  el  dr       int destroyrec dr app destroy count  xtphasedestroy result call xtdestroywidget could caus app destroy list realloc   dr app destroy list dr dispatch level dispatch level widget w dr widget app destroy count bcopi char dr char dr app destroy count sizeof destroyrec  xtphasedestroy w  el        callback guarante call order regist  although book demonstr current implement xt happen call callback procedur order regist specif guarante sequenc supplement authorit document e asent swick volum say order undefin callback list manipul widget applic xt guarante order execut gener callback procedur thought oper independ one anoth depend side effect callback oper seqenc need singl callback regist explicitli call function necessari    xtdestroywidget actual destroy widget  xtdestroywidget oper two pas order avoid leav dangl data structur function call mark widget actual destroy program return event loop   queri user synchron use xt  possibl code look like trivial callback clear flow control call askus block answer set one valid valu ye answer code drop callback back event process loop  void quit widget w xtpointer client xtpointer call  int answer answer askus w realli quit ret ye answer  answer askus w realli posit ret ye answer exit    realist exampl might ask whether creat file whether overwrit accomplish enter second event process loop wait user answer question answer return call function function askus look someth like motif replac widget set specif code creat sort dialog box display question string button ok cancel help equival  int askus w string widget w char string  int answer ret none use marker widget dialog could cach carri arg arg int n xtappcontext context  n xtsetarg arg n xmnmessagestr xmstringcreateltor string xmstring default charset n xtsetarg arg n xmndialogstyl xmdialog applic modal n dialog xmcreatequestiondialog xtparent w string arg n xtaddcallback dialog xmnokcallback respons answer xtaddcallback dialog xmncancelcallback respons answer xtaddcallback dialog xmnhelpcallback respons answer xtmanagechild dialog  context xtwidgettoapplicationcontext w answer ret none xtapppend context xtappprocessev context xtimal  xtdestroywidget dialog blow away dialog box shell return answer   dialog support three button set call function tickl user variabl answer set user final select one choic  void respons w client call widget w xtpointer client xtpointer call  int answer int client xmanycallbackstruct reason xmanycallbackstruct call switch reason reason case xmcr ok answer ret ye defin valu break case xmcr cancel answer ret break case xmcr help answer ret help break default return    code unwrap back point answer need continu  widgetwrap librari   determin name exist widget widget id need know name widget  user r later best use xtname function work widget non widget object  still use r use simpl bit code want note depend widget intern data structur necessarili portabl futur version xt includ r  includ x corep h includ x xresourc h string xtname widget widget widget work non widget object  return xrmnametostr widget core xrm name     get baddraw error draw xtwindow widget order get window xlib graphic within xt base program  canva xtcreatemanagedwidget widgetclass draw area  window xtwindow canva get window associ widget  xdrawlin window produc error  window associ widget creat part realiz widget use window id null window could creat error describ necessari call xtrealizewidget attempt use window associ widget note window creat xtrealizewidget call server may actual map yet also wait expo event window draw   get badmatch error call xgetimag  badmatch error occur specifi rectangl goe edg screen want catch error deal take follow step avoid error  make pixmap size rectangl want captur clear pixmap background use xfillrectangl use xcopyarea copi window pixmap get noexpos event copi clean use xgetimag grab imag pixmap get one graphicsexpos event copi clean x width height member graphicsexpos event structur tell part pixmap good get rid pixmap probabl take lot memori    applic tell run x  number program offer x mode otherwis run straight charact mode easiest way applic determin run x display attempt open connect x server  display xopendisplay display name display x stuff el cur someth el display name either string specifi command line follow display convent otherwis char null case xopendisplay use valu display set  superior simpli check exist display command line argument check display set environ neither adequ   make busi cursor applic comput necessari call xdefinecursor everi window applic  easiest thing creat singl inputonli window larg largest possibl screen make child toplevel window clip window affect applic need big largest possibl screen case user enlarg window busi move elsewher within virtual desktop substitut toplevel top widget similar code work xlib applic use top window  unsign long valuemask xsetwindowattribut attribut  ignor devic event busi cursor display valuemask cwdontpropag cwcursor attribut propag mask keypressmask keyreleasemask buttonpressmask buttonreleasemask pointermotionmask attribut cursor xcreatefontcursor xtdisplay toplevel xc watch  window big display screen clip parent window never worri resiz xcreatewindow xtdisplay toplevel xtwindow toplevel unsign int inputonli copyfrompar valuemask attribut  maximum size could replac real size screen particularli avoid server problem window larger   want use busi cursor map rais window go back normal unmap automat keep get extra mous event depend precis window manag work may may similar effect keystrok well  addit note also xaw widget support xtncursor resourc temporarili reset mere wish chang cursor without block pointer event    fork without hang parent x program  x base applic spawn unix process continu run close typic vanish child termin child inherit parent open x connect display need fork immedi child process close connectionnumb xtdisplay widget close file descriptor display inform exec abl exit parent altern exec ing make call caus file descriptor close exec void fcntl connectionnumb xdisplay f setfd    make xt xlib call signal handler  xlib xt mutual exclus protect critic section signal handler make call wrong time might function call alreadi execut leav librari inconsist state note ansi c standard point behavior signal handler undefin signal handler call function signal problem specif xlib xt posix specif mention function may call safe may assum function call xlib xt function work around problem set flag interrupt handler later check work procedur timer event previous ad  note articl x journal exampl reilli volum error    xlib sequenc lost error  may see error issu xlib request xlib error handler like make call gener x request xt xlib signal handler case   xt program handl socket pipe file input  common need write xt program accept input user via x connect file descriptor oper effici without block either x connect file descriptor solut use xtappaddinput open file descriptor use xtappaddinput regist input handler input handler call everi time someth file descriptor requir program attent write input handler like would xt callback work quickli return import use non block system call input handler input handler read file descriptor although input handler write handl except condit wish care regist input handler read disk file find function call even input pend xtappaddinput actual work suppos input handler call whenev file descriptor readi read new data read disk file unlik pipe socket almost alway readi read howev spin back begin read data read result function almost alway call everi time around xtappmainloop way get type interact expect add line begin function test whether new data ioctl fd fionread n n return call frequent applic effect busi wait may better use xtappaddinput instead set timer timer procedur check file input    simul button press releas event widget  use xsendev like set window field event xt need order match widget receiv event send event applic use xtdispatchev instead effici xsendev avoid round trip server depend well widget written may abl call action procedur order get effect want    anyth appear run simpl program   window xcreatesimplewindow display root window size hint x size hint size hint width size hint height border width blackpixel display screen whitepixel display screen  xselectinput display window exposuremask buttonpressmask buttonreleasemask xmapwindow display window  xdrawlin display window gc   right map window draw howev window readi drawn actual appear screen applic receiv expo event draw done gener appear see code like mani program code would appear window creat map done  xnextev display event switch event type case expo expo event redraw xdrawlin display window gc break     note second problem xlib implement set default graphic context correct foreground background color program could previous includ code  gc valu foreground blackpixel display screen e g gc valu background whitepixel display screen e g gc xcreategc display window gcforeground gcbackground gc valu   note code use blackpixel whitepixel avoid assum black white vice versa relationship pixel color black white implement depend may revers may even correspond black white  also note actual use blackpixel whitepixel usual wrong thing finish program ignor user prefer foreground background  also note run situat xt base program draw xtwindow w right realiz may yet appear   differ screen screen  screen xlib structur includ inform one monitor virtual monitor singl x display support server support sever independ screen number unix unix unix etc screen screen number second digit thought index array avail screen particular display connect macro use obtain inform particular screen applic run typic two form one take screen one take display screen number xt base program typic use xtscreen widget determin screen applic run use singl screen part confus may aris fact macro return characterist screen display name xdisplaywidth xdisplayheight etc   use c x motif xview  xr header file compat c motif header file usabl insid extern c howev definit string intrins h conflict libg string class need work around  project help wwl set c class jean daniel feket wrap x toolkit widget avail via anonym ftp export lc mit edu contrib wwl tar z lri lri fr pub wwl tar z work build set c class parallel class tree widget c interview toolkit obtain via anonym ftp interview stanford edu interview use box glue model similar tex construct user interfac support multipl look user interfac sampl applic includ wysiwig document editor doc macdraw like draw program idraw interfac builder ibuild thing class librari written rome air forc base strateg air command avail freewar archiv site  motif public domain librari defin c class wrapper motif add applic class e g initi x also integr wcl xbae widget set work develop ronald van lowel graphic research laboratori current sourc avail decuac dec com pub x motif jul tar z  sourc code exampl doug young object orient program c osf motif isbn includ widget wrapper includ set class encapsul higher level facil commonli need motif xt base applic check export ftp contrib young c tar z rogu wave offer view h c programm use motif info  product call commonview glockenspiel ltd ireland appar c base toolkit multipl window system includ pm window x motif xv sold qualix fax implement interfac gil file sun openwindow develop guid produc xview wrapper class c  uit set c class embed xview toolkit intend use sun openwindow develop guid builder tool sourc export mit edu au uit tar z version releas  also like use objectcent saber c reason altern parcplac formerli solbourn object interfac    obtain altern languag bind x  version clx lisp bind part x core sourc distribut version clx r tape version export lc mit edu contrib clx r tar z  saic ada x bind anonym ftp pub star rosslyn unisi com x ada studi team sponsor nasa jsc appar gnu smalltalk beta nativ smalltalk bind x call stix document spar outsid smalltalk code sourc avail pub gnu smalltalk tar z prep ai mit edu ugl unit prolog bind call xwip written ted kim ucla support part darpa avail anonym ftp export lc mit edu contrib xwip tar z ftp c ucla edu pub xwip tar z prolog languag bind depend quintu type foreign function interfac prolog develop gotten work quintu scheme bind xlib osf motif xaw part elk distribut version export obsolet version r contrib tape x scm bolt accessori aubrey jaffer scm scheme interpret provid interfac xlib motif openlook avail via ftp altdorf ai mit edu archiv scm xscm tar z nexu yorku ca pub scheme new xscm tar z  ada bind motif explicitli eventu made avail jet propuls laboratori probabl normal electron may respond time permit adamotif complet bind x motif ada languag mani common system base part upon saic unisi bind also includ uil ada translat info system engin research  also mit consortium although involv produc ada bind x maintain partial list peopl involv x ada   xgetwindowattribut get window background pixel pixmap  set background pixel pixmap window read client reason client creat pixmap set background pixmap window free pixmap window keep background pixmap destroy sure window background pixel pixmap use xcleararea clear region background color use xgetimag read back pixel howev action alter content window suffer race condit exposur courtesi dave lemk ncd stuart mark sun  note appli border pixel pixmap mi featur protocol allow server free manipul pixel pixmap howev want requir server keep origin pixel pixmap potenti lot space save courtesi jim fulton mit x consortium   creat transpar window  complet transpar window easi get use inputonli window order creat window mostli transpar sever choic shape extens first releas xr offer easi way make non rectangular window set shape window fit area window nontranspar howev server support extens machin specif method implement transpar window particular server use overlay plane support hardwar note x notion transpar color index gener portabl solut use larg number tini window make oper applic unit difficult final answer consid whether realli need transpar window would satisfi abl overlay applic window inform draw separ bitplan color appear properli  x journal complet answer includ code sampl last option   gxxor produc mathemat correct color valu  use gxxor may expect draw valu black background black exampl produc white howev draw oper work rgb valu colormap indic color result colormap index actual point undefin visual random unless actual fill mani x server black white often program take advantag mathemat coincid break want combin color gxxor alloc number color cell fill chosen pre comput valu want use gxxor simpli switch two color take shortcut set background color gc graphic context foreground color valu draw red say result blue draw blue result red foreground valu xor colormap indic red blue    everi color alloc show black  make sure use bit red green blue field xcolor structur scale noth full blast forget scale use exampl color xalloccolor function perform correctli result color usual black    program get standard colormap imag process program use xgetrgbcolormap get standard colormap work  xgetrgbcolormap use properti xa rgb default map creat standard colormap return one one alreadi exist use xstdcmap order creat standard colormap first    pixmap copi screen show garbag  initi content pixmap undefin mean server alloc memori leav around whatev happen usual garbag probabl want clear pixmap first use xfillrectangl function gxcopi foreground pixel whatev color want background l use pixmap mask courtesi dave lemk ncd stuart mark sun   check whether window id valid program id window remot display want check whether window exist anyth  x asynchron guarante window would still exist time got id time sent event window otherwis manipul send event without check instal error handler catch badwindow error would indic window longer exist scheme work except rare occas origin window destroy id realloc anoth window    two applic draw window  ye x server assign id window resourc actual server assign bit client applic know id manipul resourc almost x server resourc except gc privat color cell share problem face dissemin window id multipl applic simpl way handl solv problem applic run differ machin first applic creat special name properti root window put window id second applic retriev properti whose name also know draw whatev want window note scheme work iff one instanc first applic run scheme subject limit mention question use window id remot display note also still need coordin higher level cooper among applic note also two process share window tri use server connect one process child close connect server open connect    program work tvtwm swm  number applic includ xwd xwininfo xsetroot handl virtual root window tvtwm swm use typic return wrong child root gener solut add code use applic would normal use rootwindow dpi screen  function name getvroot descript get root window even virtual root argument display screen return root window client  includ x xatom h window getvroot dpi scr display dpi int scr  window rootreturn parentreturn child unsign int numchildren window root rootwindow dpi scr atom swm vroot none int  swm vroot xinternatom dpi swm vroot fals xquerytre dpi root rootreturn parentreturn child numchildren numchildren atom actual type int actual format long nitem bytesaft window newroot null  xgetwindowproperti dpi child swm vroot fals xa window actual type actual format nitem bytesaft unsign char newroot success newroot root newroot break    return root   version xsetroot distribut tvtwm  header file andrea stolck icsi export lc mit edu contrib vroot h function similarli provid macro rootwindow defaultrootwindow code includ header file first run properli presenc virtual desktop   keep window resiz user  resiz window done window manag window manag pay attent size hint applic place window guarante window manag listen tri set minimum maximum size hint target size hope best    keep window foreground time  rather antisoci applic constantli rais e g track visibilitynotifi event overlap imagin conflict two program run sure way window appear top stack make window overrid redirect mean temporarili assum window manag duti window want infrequ short period time e g popup menu short paramet set window    make text bitmap blink x  easi way unless depend sort extens yet non exist arrang blink either redraw content period possibl play game colormap chang color content    get doubl click xlib  user xt support translat manag help get notif doubl click good way get doubl click xlib protocol provid enough support doubl click client side timeout unless singl click action defer actual take next see event server thu timeout mean system depend code unixish implement use xconnectionnumb get file descriptor x connect use select someth similar note mani user interfac refer suggest doubl click use extend action indic singl click case interfac execut first action compromis check timestamp second event determin whether singl click action doubl click action    render rotat text  xlib intent provid sophist graphic capabl leav server extens client side graphic librari choic want stay within core x protocol render text pixmap read back via xgetimag rotat hand whatev matric want put back server via xputimag specif creat bitmap b write text creat xybitmap imag b via xgetimag creat xybitmap imag big enough handl transform x x b x co theta sin theta b x sin theta co theta render note care implement lose bit algorithm base shear transform may fact better high level server extens graphic packag avail x also permit render rotat text display postscript pex phig gk although capabl arbitrari rotat probabl use font would found printer addit enough access server instal font creat font consist letter rotat predefin angl applic figur placement glyph   interview c ui toolkit x contrib softwar support render rotat font x could one sourc exampl code anoth possibl use hershey font stroke render use x convert xdrawlin  post comp sourc x juli paint rotat font implement method use outlin hershey font set function facilit write text angl version recent releas alt sourc comp sourc misc also export contrib xvertext shar z  reilli x resourc volum includ inform hp modif x font server provid rotat scale text   x registri reserv name  place x toolkit applic x protocol defin use string name context conflict possibl differ compon use name differ thing mit x consortium maintain registri name domain orgain name select name select target resourc type applic class class extens record type sever list directori mit doc registri r tape also avail send send doc registri xstuff mail server regist name first come first serv ask question send confirm  condens asent swick appendix h     faq joe friday  david b lewi temporarili speak visual inc 